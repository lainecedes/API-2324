<!DOCTYPE html>
<html lang="en">
<head>
    <%- include ('partials/head.ejs'); %>
    <link rel="stylesheet" href="/styles/general.css">
    <link rel="stylesheet" href="/styles/index.css">
    <title>Login - Music Gallery</title>
</head>

<body>
    <main>
        <h1>Music Gallery</h1>
        <section>
            <p>Playlist added!</p>
            <p>Share your playlist with friends and family here: </p>
            <button id="shareButton">Share Playlist</button>
            <h1>Playlist Added</h1>
            <p>Playlist URL: <%= playlistUrl %></p>
            <p>Playlist ID: <%= playlistID %></p>
        </section>
    </main>

    <script>
        document.getElementById('shareButton').addEventListener('click', async () => {
            try {
                // Check if the Web Share API is supported
                if (navigator.share) {
                    // Share the playlist URL
                    await navigator.share({
                        title: 'Check out my recommended playlist made with Music Gallery!',
                        url: '<%= playlistUrl %>'
                    });
                    console.log('Playlist shared successfully!');
                } else {
                    console.log('Web Share API is not supported.');
                }
            } catch (error) {
                console.error('Error sharing playlist:', error);
            }
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script> 
    <script defer="" src="/scripts/index.js"></script>
</body>
</html>